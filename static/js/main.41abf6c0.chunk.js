(this.webpackJsonpouhabiter=this.webpackJsonpouhabiter||[]).push([[0],{133:function(e,t,a){},134:function(e,t,a){},158:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),o=a.n(i),s=a(11),r=a.n(s),c=(a(133),a(13)),l=a(12),u=a(31),h=a(30),d=(a(134),a(22)),b=a(32),j=a(215),m=a(202),p=a(217),v=a(65),f=a.n(v),O=a(98),g=a.n(O),x=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"stationToFeature",value:function(e){return{type:"Feature",id:e.stationId,geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{id:e.stationId,travelTime:e.travelTime}}}},{key:"buildColorScale",value:function(e,t){var a=parseFloat(e),n=(parseFloat(t)-a)/5;return["#0A5502",a+n,"#13be00",a+2*n,"#dfff00",a+3*n,"#ffa51f",a+4*n,"#c80000"]}}]),e}(),y=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"hoursToTimeString",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Math.floor(e),n=60*(e-a),i=Math.round(n);return 0===a?i+"min":(i<10&&(i="0"+i),t?a+"h"+i:a+"h")}}]),e}(),S=[{value:0,scaledValue:100,label:"100"},{value:25,scaledValue:1e3,label:"1k"},{value:50,scaledValue:5e3,label:"5k"},{value:75,scaledValue:1e4,label:"10k"},{value:100,scaledValue:25e3,label:"25k"},{value:125,scaledValue:5e4,label:"50k"},{value:150,scaledValue:1e5,label:"100k"},{value:175,scaledValue:2e5,label:"200k"},{value:200,scaledValue:3e6,label:"3M"}],C=[{value:0,scaledValue:.5,label:y.hoursToTimeString(.5,!1)},{value:2,scaledValue:1,label:y.hoursToTimeString(1,!1)},{value:4,scaledValue:2,label:y.hoursToTimeString(2,!1)},{value:6,scaledValue:3,label:y.hoursToTimeString(3,!1)},{value:8,scaledValue:4,label:y.hoursToTimeString(4,!1)},{value:10,scaledValue:5,label:y.hoursToTimeString(5,!1)},{value:12,scaledValue:8,label:y.hoursToTimeString(8,!1)},{value:14,scaledValue:10,label:y.hoursToTimeString(10,!1)},{value:16,scaledValue:12,label:y.hoursToTimeString(12,!1)},{value:18,scaledValue:16,label:y.hoursToTimeString(16,!1)},{value:20,scaledValue:20,label:y.hoursToTimeString(20,!1)}];function T(e){return I(S,e,25)}function k(e){return I(C,e,2)}function I(e,t,a){var n=Math.floor(t/a),i=e[n],o=t%a;return 0===o?i.scaledValue:o*((e[n+1].scaledValue-i.scaledValue)/a)+i.scaledValue}function L(e){return F(S,e)}function P(e){return F(C,e)}function F(e,t){var a=e[0].value;return e.forEach((function(e){e.scaledValue<=t&&(a=e.value)})),a}function w(e){return e>=1e6?"".concat(Math.trunc(e/1e6),"M"):e>1e3?"".concat(Math.trunc(e/1e3),"K"):e}function V(e){return"".concat(y.hoursToTimeString(e,e<5))}function M(e){var t=new URLSearchParams(window.location.search);for(var a in e)e[a]?t.set(a,e[a]):t.delete(a);t.length>0&&window.history.pushState("","","?".concat(t.toString()))}function N(e){M({destination:e})}function D(){var e={minTravelTime:C[0].scaledValue,maxTravelTime:C[C.length-1].scaledValue,minPopulation:S[0].scaledValue,maxPopulation:S[S.length-1].scaledValue,fromCityInseeCode:"75056"};return new URLSearchParams(window.location.search).forEach((function(t,a){void 0!==t&&(e[a]=t)})),e}var R=a(61),E=a.n(R),A=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getCityOutline",value:function(e){return E()({url:"https://geo.api.gouv.fr/communes/".concat(e),params:{fields:"contour",format:"json",geometry:"centre"}}).then((function(e){return e.data.contour})).catch((function(e){return null}))}}]),e}(),B=a(14),W=(a(158),a(59)),U=a.n(W),J=a(80),z=a(99),q=a.n(z),H=new(function(){function e(){Object(c.a)(this,e);var t=q()("JQA10Z2OZN","ed6d425150c2377e707cd08de17236b7");this.index=t.initIndex("stations"),this.stations=[],this.formerStations={},this.inseeCode=null}return Object(l.a)(e,[{key:"updateStations",value:function(){var e=Object(J.a)(U.a.mark((function e(t){var a,n,i=this;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,t!==this.inseeCode){e.next=4;break}return a=new Promise((function(e){e()})),e.abrupt("return",a);case 4:if(!(t in this.formerStations)){e.next=9;break}return this.stations=this.formerStations[t],this.inseeCode=t,a=new Promise((function(e){e()})),e.abrupt("return",a);case 9:return this.formerStations[this.inseeCode]=this.stations,this.inseeCode=t,n=[],e.abrupt("return",this.index.browseObjects({query:"",filters:"fromCityInseeCode=".concat(t),batch:function(e){n=n.concat(e)}}).then((function(){return i.stations=n})));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(J.a)(U.a.mark((function e(t){var a=this;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateStations(t.fromCityInseeCode).then((function(){var e=[];return a.stations.forEach((function(a){t&&(t.minPopulation&&t.minPopulation>a.cityPopulation||t.maxPopulation&&t.maxPopulation<a.cityPopulation||t.minTravelTime&&t.minTravelTime>a.travelTime||t.maxTravelTime&&t.maxTravelTime<a.travelTime||t.hasFiber&&!a.hasFiber||t.noFiber&&a.hasFiber||t.hasMountains&&!a.hasMountains||t.noMountains&&a.hasMountains||t.hasLake&&!a.hasLake||t.hasCoastline&&!a.hasCoastline||t.noCoastline&&a.hasCoastline||t.hasCountryside&&!a.hasCountryside||t.noCountryside&&a.hasCountryside||t.hasPark&&!a.hasPark)||e.push(a)})),e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStationById",value:function(e){return e?this.stations.find((function(t){return t.stationId===e})):null}},{key:"getStationBySlug",value:function(e){return e?this.stations.find((function(t){return t.stationName.replace(" ","-").toLowerCase()===e})):null}},{key:"getSlugFromId",value:function(e){if(!e)return null;var t=this.stations.find((function(t){return t.stationId===e}));return t?t.stationName.replace(" ","-").toLowerCase():null}},{key:"getItinerary",value:function(e,t){return E()({url:"https://api.sncf.com/v1/coverage/sncf/journeys",params:{from:e,to:"stop_area:OCE:SA:".concat(t)},auth:{username:"eec588d2-c133-419f-83de-8fc595fb6a4f"}}).then((function(e){if(!e.data.journeys)return null;var t={type:"LineString",coordinates:[]};return e.data.journeys[0].sections.forEach((function(e){var a;e.geojson&&(a=t.coordinates).push.apply(a,Object(d.a)(e.geojson.coordinates))})),t}))}}]),e}()),Q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onMapLoad=n.onMapLoad.bind(Object(b.a)(n)),n.handleMapClick=n.handleMapClick.bind(Object(b.a)(n)),n.state={colorScale:null,destination:null},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.updateStations(),this.updateColorScale())}},{key:"onMapLoad",value:function(e){e.addSource("stations",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),e.addLayer({id:"stations",type:"circle",source:"stations",paint:{"circle-stroke-width":1,"circle-stroke-color":"#000","circle-radius":{base:3,stops:[[8,4],[8,8],[22,180]]}}}),e.addSource("itinerary",{type:"geojson",data:{type:"LineString",coordinates:[]}}),e.addLayer({id:"itinerary",type:"line",source:"itinerary",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#33302E","line-width":3}}),e.addSource("city-outline",{type:"geojson",data:{type:"Polygon",coordinates:[]}}),e.addLayer({id:"city-outline",type:"line",source:"city-outline",paint:{"line-color":"#000000","line-width":1}}),this.map=e,this.updateStations(),this.updateColorScale(),this.forceUpdate();var t=new URLSearchParams(this.props.location.search);this.setStation(t.get("destination"))}},{key:"updateStations",value:function(){if(this.props.stations){var e=[];this.props.stations.forEach((function(t){e.push(x.stationToFeature(t))})),this.map&&this.map.getSource("stations").setData({type:"FeatureCollection",features:e})}}},{key:"updateColorScale",value:function(){var e=x.buildColorScale(this.props.minTravelTime,this.props.maxTravelTime),t=["step",["get","travelTime"]].concat(Object(d.a)(e));this.setState({colorScale:e}),this.map&&this.map.setPaintProperty("stations","circle-color",t)}},{key:"handleMapClick",value:function(e){var t=this.map.queryRenderedFeatures(e.point,{layers:["stations"]}),a=null;t.length>0&&(a=H.getSlugFromId(t[0].properties.id)),this.setStation(a)}},{key:"setStation",value:function(e){var t=this,a=H.getStationBySlug(e);if(!a)return N(null),void this.props.onDestinationChange(null);N(e),this.props.onDestinationChange(e),A.getCityOutline(a.toCityInseeCode).then((function(e){e?t.map.getSource("city-outline").setData(e):t.map.getLayer("city-outline").setLayoutProperty("visibility","none")})),H.getItinerary("admin:fr:".concat(this.props.fromCityInseeCode),a.stationId).then((function(e){e?t.map.getSource("itinerary").setData(e):t.map.getLayer("itinerary").setLayoutProperty("visibility","none")}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{style:{height:"100vh",width:"100%"},children:[Object(n.jsx)(g.a,{accessToken:"pk.eyJ1IjoibWVpbGxldXJzYWdlbnRzIiwiYSI6ImNqMWV5YnRpMDAwMHkyeXRnd3JkdXRiaDEifQ.emcFsn3Ox6WcKmOHhbTOPQ",zoom:"5",mapboxStyle:"mapbox://styles/meilleursagents/ckhf5i46501mv1apg8er3v1b1",coordinates:{lat:46.227638,lng:-.8930568},onLoad:this.onMapLoad,onClick:this.handleMapClick}),this.state.colorScale&&Object(n.jsxs)(j.a,{component:m.a,className:"ColorScaleContainer",children:[Object(n.jsx)(f.a,{}),Object(n.jsx)("div",{className:"ColorScaleStart",children:"- de "+y.hoursToTimeString(this.state.colorScale[1])}),Object(n.jsx)(p.a,{title:"moins de "+y.hoursToTimeString(this.state.colorScale[1]),children:Object(n.jsx)("div",{className:"ColorScaleColor",style:{"background-color":this.state.colorScale[0]}})}),Object(n.jsx)(p.a,{title:"de "+y.hoursToTimeString(this.state.colorScale[1])+" \xe0 "+y.hoursToTimeString(this.state.colorScale[3]),children:Object(n.jsx)("div",{className:"ColorScaleColor",style:{"background-color":this.state.colorScale[2]}})}),Object(n.jsx)(p.a,{title:"de "+y.hoursToTimeString(this.state.colorScale[3])+" \xe0 "+y.hoursToTimeString(this.state.colorScale[5]),children:Object(n.jsx)("div",{className:"ColorScaleColor",style:{"background-color":this.state.colorScale[4]}})}),Object(n.jsx)(p.a,{title:"de "+y.hoursToTimeString(this.state.colorScale[5])+" \xe0 "+y.hoursToTimeString(this.state.colorScale[7]),children:Object(n.jsx)("div",{className:"ColorScaleColor",style:{"background-color":this.state.colorScale[6]}})}),Object(n.jsx)(p.a,{title:"plus de "+y.hoursToTimeString(this.state.colorScale[7]),children:Object(n.jsx)("div",{className:"ColorScaleColor",style:{"background-color":this.state.colorScale[8]}})}),Object(n.jsx)("div",{className:"ColorScaleEnd",children:"+ de "+y.hoursToTimeString(this.state.colorScale[7])})]})]})}}]),a}(i.Component),X=Object(B.e)(Q),Y=(a(163),a(68)),K=a.n(Y),Z=a(103),G=a.n(Z),_=a(69),$=a.n(_),ee=a(104),te=a.n(ee),ae=a(105),ne=a.n(ae),ie=a(106),oe=a.n(ie),se=a(107),re=a.n(se),ce=(a(164),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:this.props.station&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)(K.a,{}),Object(n.jsx)(j.a,{m:1,children:this.props.station.stationName})]}),Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)(G.a,{}),Object(n.jsx)(j.a,{m:1,children:this.props.station.cityName})]}),Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)($.a,{}),Object(n.jsx)(j.a,{m:1,children:this.props.station.cityPopulation.toLocaleString()})]}),Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)(f.a,{}),Object(n.jsx)(j.a,{m:1,children:y.hoursToTimeString(this.props.station.travelTime)})]}),this.props.station.hasFiber&&Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)(te.a,{}),Object(n.jsx)(j.a,{m:1,children:"Fibre"})]}),this.props.station.hasPark&&Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)(ne.a,{}),Object(n.jsx)(j.a,{m:1,children:"Parc naturel"})]}),this.props.station.hasMountains&&Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)(oe.a,{}),Object(n.jsx)(j.a,{m:1,children:"Montagne"})]}),this.props.station.hasCoastline&&Object(n.jsxs)("div",{className:"StationInformation",children:[Object(n.jsx)(re.a,{}),Object(n.jsx)(j.a,{m:1,children:"Plage"})]})]})})}}]),a}(i.Component)),le=a(21),ue=a(20),he=a(211),de=a(37),be=a(210),je=a(220),me=a(110),pe=a.n(me),ve=a(216),fe=a(219),Oe=a(208),ge=a(111),xe=a.n(ge),ye=(a(165),function(){var e=Object(ue.e)();return o.a.useEffect((function(){e.values!==e.initialValues&&e.submitForm()}),[e.values]),null}),Se=[{name:"Paris",inseeCode:"75056"},{name:"Lyon",inseeCode:"69123"},{name:"Marseille",inseeCode:"13055"}],Ce=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);var i=D();return i.travelTimeRange=[P(i.minTravelTime),P(i.maxTravelTime)],i.populationRange=[L(i.minPopulation),L(i.maxPopulation)],console.log(i),n.state=i,n}return Object(l.a)(a,[{key:"onSliderChange",value:function(e,t,a,n){"travelTime"===n?(a("minTravelTime",k(t[0])),a("maxTravelTime",k(t[1])),this.setState({travelTimeRange:t})):(a("minPopulation",T(t[0])),a("maxPopulation",T(t[1])),this.setState({populationRange:t}))}},{key:"onSelectChange",value:function(e,t){t(e.target.name,e.target.value),this.setState(Object(le.a)({},e.target.name,e.target.value))}},{key:"doSearch",value:function(e){this.props.onSearchChange(e),M(e)}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{children:Object(n.jsx)(ue.c,{initialValues:this.state,onSubmit:pe()((function(t){e.doSearch(t)}),100),children:function(t){var a=t.handleSubmit,i=t.setFieldValue;return Object(n.jsxs)(ue.b,{onSubmit:a,onChange:e.handleFormChange,children:[Object(n.jsx)(ye,{}),Object(n.jsxs)(j.a,{pb:2,children:[Object(n.jsxs)(be.a,{id:"travel-time",gutterBottom:!0,class:"SearchItemWithIcon",children:[Object(n.jsx)(xe.a,{}),"\xa0D\xe9part"]}),Object(n.jsx)(Oe.a,{variant:"outlined",style:{width:"95%"},children:Object(n.jsx)(ve.a,{name:"fromCityInseeCode",value:e.state.fromCityInseeCode,onChange:function(t){return e.onSelectChange(t,i)},children:Se.map((function(e){return Object(n.jsx)(fe.a,{value:e.inseeCode,children:e.name})}))})})]}),Object(n.jsxs)(be.a,{id:"travel-time",gutterBottom:!0,class:"SearchItemWithIcon",children:[Object(n.jsx)(K.a,{}),"\xa0Temps de trajet"]}),Object(n.jsx)(j.a,{m:2,children:Object(n.jsx)(je.a,{value:e.state.travelTimeRange,onChange:function(t,a){return e.onSliderChange(t,a,i,"travelTime")},valueLabelDisplay:"auto",valueLabelFormat:V,min:C[0].value,max:C[C.length-1].value,scale:function(e){return k(e)},marks:C,style:{width:"95%"}})}),Object(n.jsxs)(be.a,{id:"population",gutterBottom:!0,class:"SearchItemWithIcon",children:[Object(n.jsx)($.a,{}),"\xa0Population"]}),Object(n.jsx)(j.a,{m:2,children:Object(n.jsx)(je.a,{value:e.state.populationRange,onChange:function(t,a){return e.onSliderChange(t,a,i,"population")},valueLabelDisplay:"auto",valueLabelFormat:w,min:S[0].value,max:S[S.length-1].value,scale:function(e){return T(e)},marks:S,style:{width:"95%"}})}),Object(n.jsxs)("div",{style:{display:"flex",marginTop:10},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"hasFiber",Label:{label:"Avec la fibre"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"hasCountryside",Label:{label:"\xc0 la campagne"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"hasMountains",Label:{label:"\xc0 la montagne"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"hasCoastline",Label:{label:"\xc0 la mer"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"hasLake",disabled:!1,Label:{label:"Pr\xe8s d'un grand lac"}}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"noFiber",Label:{label:"Sans la fibre"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"noCountryside",Label:{label:"En ville"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"noMountains",Label:{label:"Pas \xe0 la montagne"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"noCoastline",Label:{label:"Pas \xe0 la mer"},disabled:!1}),Object(n.jsx)("br",{}),Object(n.jsx)(ue.a,{component:de.a,type:"checkbox",name:"hasPark",Label:{label:"Dans un parc naturel"},disabled:!1}),Object(n.jsx)("br",{})]})]}),Object(n.jsx)(he.a,{variant:"contained",color:"primary",type:"submit",disabled:!1,style:{marginTop:10},children:"Filtrer"})]})}})})}}]),a}(i.Component),Te=a(212),ke=a(112),Ie=a.n(ke),Le=a(209),Pe=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleCloseStation=n.handleCloseStation.bind(Object(b.a)(n)),n.state={searchActive:!0,station:null},n}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e){if(e.destination&&!this.props.destination)this.setState({searchActive:!0,station:null});else if(!e.destination&&this.props.destination||e.destination!==this.props.destination){var t=H.getStationBySlug(this.props.destination);this.setState({searchActive:!1,station:t})}}},{key:"handleCloseStation",value:function(){N(null),this.setState({searchActive:!0})}},{key:"render",value:function(){return Object(n.jsxs)(j.a,{pl:1,className:"SidePanel",children:[Object(n.jsx)("img",{alt:"logo",src:"/logo.png",width:"30%"}),Object(n.jsx)(Te.a,{in:this.state.searchActive,children:Object(n.jsx)(Ce,{onSearchChange:this.props.onSearchChange})}),!this.state.searchActive&&Object(n.jsxs)(j.a,{m:2,children:[Object(n.jsx)(j.a,{display:"flex",justifyContent:"flex-end",children:Object(n.jsx)(Le.a,{onClick:this.handleCloseStation,children:Object(n.jsx)(Ie.a,{})})}),Object(n.jsx)(ce,{station:this.state.station})]})]})}}]),a}(i.Component),Fe=Object(B.e)(Pe),we=a(49),Ve=(a(166),a(213)),Me=a(5),Ne=Object(Me.a)({root:{color:"#FFFFFF",fontWeight:"bold"}})(be.a),De=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(Ve.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh","background-image":"linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('img/marseille.jpg')"},children:Object(n.jsxs)(Ve.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",xs:3,children:[Object(n.jsx)(Ne,{variant:"h1",component:"h1",gutterBottom:!0,children:"o\xf9 habiter"}),Object(n.jsx)(we.b,{to:"/app",children:Object(n.jsx)(he.a,{variant:"contained",color:"primary",size:"large",children:"Trouver ma ville"})})]})})}}]),a}(i.Component),Re=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={destination:null,stations:[],search:D()},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.search(this.state.search).then((function(t){e.setState({stations:t,destination:new URLSearchParams(window.location.search).get("destination")})})),this.handleSearchChange=this.handleSearchChange.bind(this),this.handleDestinationChange=this.handleDestinationChange.bind(this)}},{key:"handleSearchChange",value:function(e){var t=this;e!==this.state.search&&H.search(e).then((function(a){t.setState({search:e,stations:a})}))}},{key:"handleDestinationChange",value:function(e){e!==this.state.destination&&this.setState({destination:e})}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(we.a,{children:[Object(n.jsx)(B.a,{exact:!0,path:"/",children:Object(n.jsx)(De,{})}),Object(n.jsxs)(B.a,{path:"/app",children:[Object(n.jsx)(Fe,{onSearchChange:this.handleSearchChange,destination:this.state.destination}),Object(n.jsx)(X,{stations:this.state.stations,minTravelTime:this.state.search.minTravelTime,maxTravelTime:this.state.search.maxTravelTime,fromCityInseeCode:this.state.search.fromCityInseeCode,onDestinationChange:this.handleDestinationChange})]})]})})}}]),a}(i.Component),Ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,222)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),o(e),s(e)}))};r.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(Re,{})}),document.getElementById("root")),Ee()}},[[167,1,2]]]);
//# sourceMappingURL=main.41abf6c0.chunk.js.map